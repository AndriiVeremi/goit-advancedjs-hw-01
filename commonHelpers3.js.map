{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  form: document.querySelector('.js-feedback-form'),\n  input: document.querySelector('.js-feedback-form input'),\n  message: document.querySelector('.js-feedback-form textarea'),\n};\n\nlet formData = {};\nconst STOR_KEY = 'feedback-form-state';\n\ngetSaveData();\n\nrefs.form.addEventListener('input', throttle(handlerInput, 500));\nrefs.form.addEventListener('submit', handlerSubmit);\n\nfunction handlerInput() {\n  formData = {\n    email: refs.input.value,\n    message: refs.message.value,\n  };\n\n  localStorage.setItem(STOR_KEY, JSON.stringify(formData));\n}\n\nfunction handlerSubmit(e) {\n  e.preventDefault();\n  \n  console.log(formData);\n\n  if (refs.input.value.length !== 0 && refs.message.value.length !== 0) {\n  e.currentTarget.reset();\n  localStorage.removeItem(STOR_KEY);\n  } else {\n    alert('Ooo, Усі поля повинні бути заповнені');\n  }\n}\n\nfunction getSaveData() {\n  const lsData = JSON.parse(localStorage.getItem(STOR_KEY));\n\n  if (!lsData) {\n    return;\n  }\n    \n  refs.input.value = lsData.email ?? '';\n  refs.message.value = lsData.message ?? '';\n}\n"],"names":["refs","formData","STOR_KEY","getSaveData","throttle","handlerInput","handlerSubmit","e","lsData"],"mappings":"wIAEA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,mBAAmB,EAChD,MAAO,SAAS,cAAc,yBAAyB,EACvD,QAAS,SAAS,cAAc,4BAA4B,CAC9D,EAEA,IAAIC,EAAW,CAAA,EACf,MAAMC,EAAW,sBAEjBC,IAEAH,EAAK,KAAK,iBAAiB,QAASI,EAASC,EAAc,GAAG,CAAC,EAC/DL,EAAK,KAAK,iBAAiB,SAAUM,CAAa,EAElD,SAASD,GAAe,CACtBJ,EAAW,CACT,MAAOD,EAAK,MAAM,MAClB,QAASA,EAAK,QAAQ,KAC1B,EAEE,aAAa,QAAQE,EAAU,KAAK,UAAUD,CAAQ,CAAC,CACzD,CAEA,SAASK,EAAcC,EAAG,CACxBA,EAAE,eAAc,EAEhB,QAAQ,IAAIN,CAAQ,EAEhBD,EAAK,MAAM,MAAM,SAAW,GAAKA,EAAK,QAAQ,MAAM,SAAW,GACnEO,EAAE,cAAc,QAChB,aAAa,WAAWL,CAAQ,GAE9B,MAAM,sCAAsC,CAEhD,CAEA,SAASC,GAAc,CACrB,MAAMK,EAAS,KAAK,MAAM,aAAa,QAAQN,CAAQ,CAAC,EAEnDM,IAILR,EAAK,MAAM,MAAQQ,EAAO,OAAS,GACnCR,EAAK,QAAQ,MAAQQ,EAAO,SAAW,GACzC"}